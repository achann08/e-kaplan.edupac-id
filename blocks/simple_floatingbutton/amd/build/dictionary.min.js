/*! simple_floatingbutton 2024-07-11 */
define(["jquery"],function(l){function n(t){var n=t,e=(t=t.toLowerCase().replace(/\s+/g,"-"),l("input[name='dictionaryType']:checked").val());l.ajax({url:"https://www.dictionaryapi.com/api/v3/references/"+e+"/json/"+t+"?key="+("collegiate"===e?"5430a298-0083-42b3-bf07-6052f1f7cb09":"0efb0a45-3fda-45e2-a255-b820fa948f2e"),method:"GET",dataType:"json",beforeSend:function(){l("#dictionary-results").html('<div class="d-flex justify-content-center mt-3"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div>')},success:function(t){var i,r="",o=!1,e=[];Array.isArray(t)&&("string"==typeof t[0]?e=t:0<(t=t.filter(function(t){var e=t.meta&&t.meta.id?t.meta.id.split(":")[0].toLowerCase():"",t=t.meta&&t.meta.stems?t.meta.stems.map(t=>t.toLowerCase()):[];return e===n.toLowerCase()||t.includes(n.toLowerCase())})).length&&(i=(new Date).getTime(),r+='<div class="accordion mt-3" id="accordion-'+i+'">',l.each(t,function(t,e){var n=e.meta.id.split(":")[0],a=e.fl||"N/A",s="collapse"+i+"-"+t,t="heading"+i+"-"+t;r=(r=(r=(r+='<div class="card">')+'<div class="card-header p-0" id="'+t+'"><button class="btn btn-link text-left font-weight-bold" type="button" data-toggle="collapse" data-target="#'+s+'" aria-expanded="true" aria-controls="'+s+'">')+n+" ("+a+")</button></div>")+'<div id="'+s+'" class="collapse" aria-labelledby="'+t+'" data-parent="#accordion-'+i+'"><div class="card-body overflow-auto" style="max-height: 250px;"><ol class="m-0">',l.each(e.def,function(t,e){l.each(e.sseq,function(t,e){l.each(e,function(t,e){var n;"sense"===e[0]&&(n=(e=e[1]).dt&&e.dt[0]&&"string"==typeof e.dt[0][1]?n="string"==typeof(n=e.dt[0][1])?(n=(n=(n=n.replace(/\{it\}/g,"<i>")).replace(/\{\/it\}/g,"</i>")).replace(/{d_link\|([^|]+)\|([^}]+)}/g,"$1")).replace(/{a_link\|([^}]+)}/g,"$1"):n:"")&&(r+='<li class="lead"><span style="font-size: 1em; font-weight: bold;">'+n.replace(/{bc}/g," ").replace(/{sx\|([^|]+)\|([^}]+)}/g,"<i>$1</i>")+"</span><br>",e.syn_list&&0<e.syn_list.length&&(r=(r+="<strong>Synonyms:</strong> ")+e.syn_list[0].map(function(t){return t.wd}).join(", ")+"<br>"),e.rel_list&&0<e.rel_list.length&&(r=(r+="<strong>Related Words:</strong> ")+e.rel_list[0].map(function(t){return t.wd}).join(", ")+"<br>"),e.near_list&&0<e.near_list.length&&(r=(r+="<strong>Near Antonyms:</strong> ")+e.near_list[0].map(function(t){return t.wd}).join(", ")+"<br>"),e.ant_list&&0<e.ant_list.length&&(r=(r+="<strong>Antonyms:</strong> ")+e.ant_list[0].map(function(t){return t.wd}).join(", ")+"<br>"),r+="</li>")})})}),r+="</ol></div></div></div>",o=!0}),r+="</div>")),o||(0<e.length?(r='<div class="alert alert-warning mt-3"><p>Did you mean this?</p><ul class="p-2" style="columns: 2;-webkit-columns: 2;-moz-columns: 2;">',l.each(e,function(t,e){r+='<li><a role="button" class="suggestion" data-word="'+e+'">'+e+"</a></li>"}),r+="</ul></div>"):r='<div class="alert alert-warning mt-3"><p class="m-0">Oops, the word you searched for is not in the dictionary.</p></div>'),l("#dictionary-results").html(r)},error:function(t,e,n){console.log("Request Failed: "+(e+", "+n));l("#dictionary-results").html('<div class="alert alert-danger mt-3"><p class="m-0">There was an error processing your request. Please check your internet connection and try again.</p></div>')}})}return{init:function(){function e(){var t=l("#searchword").val().trim();""===t?l("#dictionary-results").html('<div class="alert alert-warning mt-3"><p class="m-0">Please type something.</p></div>'):n(t)}l(".dictionary-search-form").on("click","#search-button",function(){e()}),l(".dictionary-search-form").submit(function(t){t.preventDefault(),e()}),l(".dictionary-search-form").on("keydown","#searchword",function(t){"Enter"===t.key&&(t.preventDefault(),e())}),l("#dictionary-results").on("click",".suggestion",function(t){t.preventDefault();t=l(this).attr("data-word");l("#searchword").val(t),n(t)})}}});